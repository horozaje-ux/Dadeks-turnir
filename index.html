<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <title>Dadeks turnir</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1d4ed8, #020617);
      color: #f9fafb;
    }

    .app {
      max-width: 1000px;
      margin: 0 auto;
      padding: 16px 12px 32px;
    }

    header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 18px;
    }

    header img.logo {
      width: 64px;
      height: 64px;
      border-radius: 18px;
      background: #020617;
      padding: 4px;
      object-fit: cover;
    }

    header h1 {
      margin: 0 0 4px;
      font-size: 24px;
    }

    header p.sub {
      margin: 0;
      opacity: 0.85;
      font-size: 13px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #020617;
      font-size: 12px;
      border: 1px solid #1d4ed8;
      white-space: nowrap;
    }

    /* TABOVI */
    .tabs {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 6px;
      margin: 12px 0 10px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.4);
      padding-bottom: 8px;
      scrollbar-width: none;
    }
    .tabs::-webkit-scrollbar {
      display: none;
    }

    .tab-btn {
      border: none;
      background: transparent;
      color: #e5e7eb;
      padding: 7px 12px;
      border-radius: 999px;
      font-size: 13px;
      cursor: pointer;
      white-space: nowrap;
    }

    .tab-btn.active {
      background: #1d4ed8;
      color: #f9fafb;
      box-shadow: 0 0 0 1px rgba(191, 219, 254, 0.3);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* KARTICA */
    .card {
      background: #020617;
      border-radius: 18px;
      padding: 14px 14px 18px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(37, 99, 235, 0.6);
      margin-top: 6px;
    }

    .card h2 {
      margin-top: 0;
      margin-bottom: 8px;
      font-size: 19px;
    }

    .hint {
      font-size: 13px;
      color: #cbd5f5;
      margin-bottom: 8px;
    }

    .iframe-wrapper {
      position: relative;
      width: 100%;
      height: 430px;
      border-radius: 12px;
      overflow: hidden;
      background: #020617;
    }

    .iframe-wrapper iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .helper-text {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 10px;
    }

    /* Select za godi≈°te */
    .gen-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }

    select {
      background: #020617;
      color: #e5e7eb;
      border-radius: 999px;
      border: 1px solid #1d4ed8;
      padding: 6px 12px;
      font-size: 14px;
    }

    /* LIVE SCORE */
    .live-controls {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .btn {
      border-radius: 999px;
      border: 1px solid #38bdf8;
      background: #0f172a;
      color: #e0f2fe;
      padding: 6px 12px;
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-icon {
      font-size: 15px;
    }

    .live-status-pill {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 12px;
      background: rgba(22, 163, 74, 0.18);
      border: 1px solid rgba(22, 163, 74, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
    }

    .live-sound-row {
      margin: 6px 0 8px;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }

    .match-watch-list {
      margin: 4px 0 8px;
      padding: 6px 8px;
      border-radius: 10px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      display: none;
    }

    .match-watch-list.visible {
      display: block;
    }

    .match-watch-list label {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 13px;
      margin: 2px 0;
    }

    .live-table-wrap {
      margin-top: 8px;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: #020617;
    }

    table.live-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    .live-table thead {
      background: rgba(15, 23, 42, 0.95);
    }

    .live-table th,
    .live-table td {
      padding: 6px 8px;
      border-bottom: 1px solid rgba(30, 64, 175, 0.55);
      text-align: left;
      white-space: nowrap;
    }

    .live-table th:nth-child(1),
    .live-table td:nth-child(1) {
      min-width: 120px;
      white-space: normal;
    }

    .live-table td:nth-child(5),
    .live-table th:nth-child(5) {
      text-align: center;
      white-space: nowrap;
    }

    .match-row.flash {
      animation: flash-bg 1.3s ease-out;
    }

    @keyframes flash-bg {
      0% {
        background: #facc15;
        color: #111827;
      }
      100% {
        background: transparent;
        color: inherit;
      }
    }

    .badge-status {
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      border: 1px solid rgba(148, 163, 184, 0.5);
    }

    .badge-live {
      border-color: rgba(248, 113, 113, 0.7);
      color: #fecaca;
    }

    .muted {
      opacity: 0.75;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: row;
        align-items: center;
      }
      .app {
        padding: 12px 10px 28px;
      }
      .iframe-wrapper {
        height: 380px;
      }
      .live-table th,
      .live-table td {
        padding: 5px 6px;
        font-size: 12px;
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <header>
      <img src="logo.png" alt="Dadeks turnir logo" class="logo" />
      <div>
        <h1>Dadeks Turnir</h1>
        <p class="sub">Tradicionalni turnir povodom Dana osloboƒëenja Podgorice</p>
        <div class="pill-row">
          <span class="pill">üìÖ 19‚Äì21. decembar</span>
          <span class="pill">üìç Podgorica</span>
          <span class="pill">üìû 069 313 817</span>
        </div>
      </div>
    </header>

    <!-- NAV TABOVI -->
    <nav class="tabs">
      <button class="tab-btn active" onclick="openTab('info', this)">Info</button>
      <button class="tab-btn" onclick="openTab('live', this)">Live score</button>
      <button class="tab-btn" onclick="openTab('raspored', this)">Raspored</button>
      <button class="tab-btn" onclick="openTab('rezultati', this)">Rezultati</button>
      <button class="tab-btn" onclick="openTab('playoff', this)">Playoff (QF/SF/F)</button>
      <button class="tab-btn" onclick="openTab('timovi', this)">Timovi</button>
      <button class="tab-btn" onclick="openTab('lokacije', this)">Lokacije</button>
      <button class="tab-btn" onclick="openTab('kontakt', this)">Kontakt</button>
    </nav>

    <!-- INFO -->
    <section class="tab-content active" id="info">
      <div class="card">
        <h2>Osnovne informacije</h2>
        <p>
          Dobrodo≈°li na <strong>Dadeks turnir</strong> povodom Dana osloboƒëenja Podgorice.
          Na jednom mjestu okupljamo najbolje ekipe mlaƒëih kategorija.
        </p>
        <p class="helper-text">
          Koristi tabove iznad da pogleda≈° raspored, rezultate, playoff, timove po godi≈°tima i live score.
        </p>
      </div>
    </section>

    <!-- LIVE SCORE -->
    <section class="tab-content" id="live">
      <div class="card">
        <h2>Live score</h2>
        <p class="hint">
          Rezultati se povlaƒçe direktno iz Google Sheets. Stranica se automatski osvje≈æava, a mo≈æe≈° i da oznaƒçi≈° utakmice
          koje ≈æeli≈° da prati≈° ‚Äì telefon ƒáe pustiti kratak zvuk kada se promijeni rezultat.
        </p>

        <div class="live-controls">
          <button class="btn" id="toggle-watch-list">
            <span class="btn-icon">‚öΩ</span>
            Izaberi meƒçeve za praƒáenje
          </button>
          <div class="live-status-pill" id="live-status-pill">
            <span class="dot" id="live-dot"></span>
            <span id="live-status-text">A≈æurirano</span>
          </div>
        </div>

        <div class="live-sound-row">
          <label>
            <input type="checkbox" id="sound-toggle" checked />
            Ukljuƒçi zvuk kod promjene rezultata
          </label>
          <span class="muted">‚Ä¢ Osvje≈æavanje ~5s</span>
        </div>

        <div id="match-watch-list" class="match-watch-list">
          <!-- checkbox lista meƒçeva dinamiƒçki -->
        </div>

        <p class="helper-text">
          Ako ne vidi≈° sve utakmice, provjeri da je Google Sheets live tabela objavljena i da ima kolone
          ‚ÄûUtakmica‚Äú, ‚ÄûDomacin‚Äú, ‚ÄûGost‚Äú, ‚ÄûRezultat‚Äú i ‚ÄûStatus‚Äú.
        </p>

        <div class="live-table-wrap">
          <table class="live-table">
            <thead>
              <tr>
                <th>Utakmica</th>
                <th>Domaƒáin</th>
                <th>Gost</th>
                <th>Rezultat</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="live-table-body">
              <!-- redovi se pune iz JS-a -->
            </tbody>
          </table>
        </div>

        <p class="helper-text" id="live-error" style="display:none; color:#fecaca;">
          Nije moguƒáe uƒçitati live score (provjeri internet ili da li je tabela objavljena).
        </p>
      </div>
    </section>

    <!-- RASPORED -->
    <section class="tab-content" id="raspored">
      <div class="card">
        <h2>Raspored utakmica</h2>
        <div class="iframe-wrapper">
          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=0&single=true&widget=true&headers=false">
          </iframe>
        </div>
        <p class="helper-text">
          Raspored ureƒëuje≈° u Google Sheets dokumentu (list ‚ÄûRaspored‚Äú). Svaka promjena se odmah vidi ovdje.
        </p>
      </div>
    </section>

    <!-- REZULTATI -->
    <section class="tab-content" id="rezultati">
      <div class="card">
        <h2>Rezultati</h2>
        <div class="iframe-wrapper">
          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=2133224638&single=true&widget=true&headers=false">
          </iframe>
        </div>
        <p class="helper-text">Rezultate unosi≈° u Google Sheets (list ‚ÄûRezultati‚Äú).</p>
      </div>
    </section>

    <!-- PLAYOFF (QF / SF / F) -->
    <section class="tab-content" id="playoff">
      <div class="card">
        <h2>Playoff ‚Äì ƒçetvrtfinale, polufinale, finale</h2>
        <p class="hint">
          Posebne tabele za sve generacije ‚Äì QF, SF i F. Sve se automatski povlaƒçi iz Google Sheets.
        </p>

        <h3 class="hint" style="margin-top:8px;">ƒåetvrtfinale (QF)</h3>
        <div class="iframe-wrapper" style="height:320px;margin-bottom:12px;">
          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=864058856&single=true&widget=true&headers=false">
          </iframe>
        </div>

        <h3 class="hint" style="margin-top:6px;">Polufinale (SF)</h3>
        <div class="iframe-wrapper" style="height:320px;margin-bottom:12px;">
          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=1643104694&single=true&widget=true&headers=false">
          </iframe>
        </div>

        <h3 class="hint" style="margin-top:6px;">Finale (F)</h3>
        <div class="iframe-wrapper" style="height:320px;">
          <iframe
            src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=533875103&single=true&widget=true&headers=false">
          </iframe>
        </div>
      </div>
    </section>

   // TIMOVI ‚Äì LINKOVI PO GODI≈†TU
const GEN_URLS = {
  "2015":
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=557402747&single=true&widget=true&headers=false",
  "2016":
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=1814233139&single=true&widget=true&headers=false",
  "2017":
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=1898316737&single=true&widget=true&headers=false",
  "2018":
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=1999108339&single=true&widget=true&headers=false",
};

    <!-- LOKACIJE -->
    <section class="tab-content" id="lokacije">
      <div class="card">
        <h2>Lokacije turnira</h2>
        <p>Ovde mo≈æe≈° dodati mapu ili opis terena (Dadeks, FSCG, Kamp, itd.).</p>
      </div>
    </section>

    <!-- KONTAKT -->
    <section class="tab-content" id="kontakt">
      <div class="card">
        <h2>Kontakt</h2>
        <p>
          Za sve informacije o turniru: <br />
          üìû 069 313 817 <br />
          üìß horozaje@hotmail.com
        </p>
      </div>
    </section>
  </div>

  <script>
    // TABOVI
    function openTab(tabId, btn) {
      document.querySelectorAll(".tab-content").forEach(function (el) {
        el.classList.remove("active");
      });
      document.getElementById(tabId).classList.add("active");

      document.querySelectorAll(".tab-btn").forEach(function (b) {
        b.classList.remove("active");
      });
      btn.classList.add("active");
    }

    // TIMOVI ‚Äì LINKOVI PO GODI≈†TU
    const GEN_URLS = {
      "2015":
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=988009385&single=true&widget=true&headers=false",
      "2016":
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=663500479&single=true&widget=true&headers=false",
      "2017":
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=954938894&single=true&widget=true&headers=false",
      "2018":
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pubhtml?gid=419575061&single=true&widget=true&headers=false",
    };

    function changeGeneration(gen) {
      var txt = document.getElementById("selected-gen-text");
      txt.innerHTML = "Odabrano godi≈°te: <strong>" + gen + "</strong>";

      var iframe = document.getElementById("teams-iframe");
      iframe.src = GEN_URLS[gen];
    }

    // LIVE SCORE ‚Äì BRZO OSVJE≈ΩAVANJE + ZVUK + ƒåEKIRANJE UTAKMICA

    // CSV link iz iste "2PACX" objave, samo output=csv (live score sheet)
    const LIVE_SCORE_CSV_URL =
      "https://docs.google.com/spreadsheets/d/e/2PACX-1vQnO8M50g_PHsE59zwQvGuhAywll0EBlj0pM65Z_XZ60WRgS0mEDKoF7t_QPFix2m3mEkSX1YwTptO6/pub?gid=1224715353&single=true&output=csv";

    const REFRESH_MS = 10000;

    let lastResults = new Map(); // key -> rezultat
    let watchedMatches = new Set(); // koje meƒçeve pratimo
    let soundEnabled = true;
    let liveTimer = null;
    let audioContext = null;

    const tableBody = document.getElementById("live-table-body");
    const watchListEl = document.getElementById("match-watch-list");
    const soundToggle = document.getElementById("sound-toggle");
    const statusText = document.getElementById("live-status-text");
    const statusDot = document.getElementById("live-dot");
    const statusPill = document.getElementById("live-status-pill");
    const errorEl = document.getElementById("live-error");
    const toggleWatchBtn = document.getElementById("toggle-watch-list");

    function parseCsv(text) {
      const lines = text.trim().split(/\r?\n/);
      if (!lines.length) return [];

      const headers = lines[0].split(",");
      const rows = [];

      for (let i = 1; i < lines.length; i++) {
        if (!lines[i].trim()) continue;
        const cols = lines[i].split(",");
        const obj = {};
        headers.forEach((h, idx) => {
          obj[h.trim()] = (cols[idx] || "").trim();
        });
        rows.push(obj);
      }
      return rows;
    }

    function matchKey(row) {
      // koristi kolonu "Utakmica" ako postoji, inaƒçe Domacin-Gost
      if (row.Utakmica) return row.Utakmica;
      if (row.Utakmica === "") return row.Domacin + " - " + row.Gost;
      return `${row.Domacin || ""} - ${row.Gost || ""}`.trim();
    }

    function renderLiveScore(rows) {
      // ako prvi put ‚Äì sve meƒçeve stavljamo kao watched
      if (watchedMatches.size === 0) {
        rows.forEach((r) => {
          const key = matchKey(r);
          if (key) watchedMatches.add(key);
        });
      }

      // tabela
      tableBody.innerHTML = "";
      const newResults = new Map();

      rows.forEach((row) => {
        const key = matchKey(row);
        if (!key) return;

        const rezultat = row.Rezultat || "";
        newResults.set(key, rezultat);

        const prev = lastResults.get(key);
        const changed = prev !== undefined && prev !== rezultat && rezultat !== "";

        const tr = document.createElement("tr");
        tr.className = "match-row";
        if (changed) {
          tr.classList.add("flash");
        }

        const tdMatch = document.createElement("td");
        tdMatch.textContent = key;

        const tdHome = document.createElement("td");
        tdHome.textContent = row.Domacin || "";

        const tdAway = document.createElement("td");
        tdAway.textContent = row.Gost || "";

        const tdScore = document.createElement("td");
        tdScore.textContent = rezultat || "";

        const tdStatus = document.createElement("td");
        const statusSpan = document.createElement("span");
        statusSpan.textContent = row.Status || "";
        statusSpan.className = "badge-status";
        if ((row.Status || "").toLowerCase().includes("igra")) {
          statusSpan.classList.add("badge-live");
        }
        tdStatus.appendChild(statusSpan);

        tr.appendChild(tdMatch);
        tr.appendChild(tdHome);
        tr.appendChild(tdAway);
        tr.appendChild(tdScore);
        tr.appendChild(tdStatus);
        tableBody.appendChild(tr);

        // ako se rezultat promijenio i ovaj meƒç je u watched listi ‚Äì sviraj ton
        if (changed && soundEnabled && watchedMatches.has(key)) {
          playGoalSound();
        }
      });

      lastResults = newResults;

      // lista meƒçeva za praƒáenje
      renderWatchList(rows);

      // status
      const now = new Date();
      const timeStr =
        String(now.getHours()).padStart(2, "0") +
        ":" +
        String(now.getMinutes()).padStart(2, "0");
      statusText.textContent = "A≈æurirano " + timeStr;
      statusDot.style.background = "#22c55e";
      statusPill.classList.remove("hidden");

      errorEl.style.display = "none";
    }

    function renderWatchList(rows) {
      watchListEl.innerHTML = "";
      rows.forEach((row) => {
        const key = matchKey(row);
        if (!key) return;
        const label = document.createElement("label");

        const input = document.createElement("input");
        input.type = "checkbox";
        input.checked = watchedMatches.has(key);
        input.dataset.key = key;

        input.addEventListener("change", function () {
          if (this.checked) {
            watchedMatches.add(key);
          } else {
            watchedMatches.delete(key);
          }
        });

        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + key));
        watchListEl.appendChild(label);
      });
    }

    function playGoalSound() {
      try {
        if (!audioContext) {
          audioContext =
            new (window.AudioContext || window.webkitAudioContext)();
        }

        const ctx = audioContext;
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        osc.type = "triangle";
        osc.frequency.value = 880;

        osc.connect(gain);
        gain.connect(ctx.destination);

        const now = ctx.currentTime;
        gain.gain.setValueAtTime(0.001, now);
        gain.gain.exponentialRampToValueAtTime(0.25, now + 0.03);
        gain.gain.exponentialRampToValueAtTime(0.001, now + 0.4);

        osc.start(now);
        osc.stop(now + 0.45);
      } catch (e) {
        // ako ne mo≈æe audio, samo ignori≈°emo
      }
    }

    async function loadLiveScore() {
      try {
        statusDot.style.background = "#f97316"; // narand≈æasto dok uƒçitava
        statusText.textContent = "Uƒçitavanje...";
        errorEl.style.display = "none";

        const resp = await fetch(
          LIVE_SCORE_CSV_URL + "&_=" + Date.now(),
          { cache: "no-store" }
        );
        const text = await resp.text();
        const rows = parseCsv(text);
        if (!rows.length) {
          tableBody.innerHTML = "";
          errorEl.style.display = "block";
          statusDot.style.background = "#ef4444";
          statusText.textContent = "Nema podataka";
          return;
        }
        renderLiveScore(rows);
      } catch (err) {
        console.error("Live score error", err);
        errorEl.style.display = "block";
        statusDot.style.background = "#ef4444";
        statusText.textContent = "Gre≈°ka pri uƒçitavanju";
      }
    }

    function startLiveScore() {
      if (liveTimer) clearInterval(liveTimer);
      loadLiveScore();
      liveTimer = setInterval(loadLiveScore, REFRESH_MS);
    }

    // event listeners
    soundToggle.addEventListener("change", function () {
      soundEnabled = this.checked;
    });

    toggleWatchBtn.addEventListener("click", function () {
      watchListEl.classList.toggle("visible");
    });

    document.addEventListener("DOMContentLoaded", function () {
      startLiveScore();
    });
  </script>
</body>
</html>


